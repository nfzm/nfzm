<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Packer</title>
    </head>
    <body>
        <div id="mosaic" style="width: 200px; height: 200px; position: relative">
            <div style="width: 20px; height: 61px; position: absolute; background-color: rgb(0, 0, 92)" id="div1"/>
            <div style="width: 23px; height: 28px; position: absolute; background-color: rgb(150, 217, 0);" id="div2"/>
            <div style="width: 21px; height: 90px; position: absolute; background-color: rgb(81, 196, 94);" id="div3"/>
            <div style="width: 49px; height: 24px; position: absolute; background-color: rgb(0, 82, 99);"  id="div4"/>
        </div>
        
        <script src="packer.js" language="javascript"></script>
        <script type="text/javascript">
            var blocks = [],
            packer = new Packer( width, height );// либо GrowingPacker();
            for(var i in tags){
              var div = tags[i];
              if(div.style)blocks[blocks.length]={w:parseInt(div.style.width),h:parseInt(div.style.height)};
            }
            blocks.sort(function(a,b) { return (b.w > a.w); }); // сортируем прямоугольники для улучшения результата
            packer.fit(blocks);
            for(var i in tags){
              var div = tags[i];
              var block = blocks[i];
              if(div.style && block.fit){
                div.style.left = block.fit.x;
                div.style.top = block.fit.y;
                div.style.width = block.w;
                div.style.height = block.h;
              }
            }
        </script>
        
    </body>
</html>